suffix=checkpoints/0050000_Gn.model
checks_seyeon=(\
# ../20230105081409-study-seyeon-128-route_rnn-motion_L1basic-vp_none/$suffix \
# # ../20230105082505-study-seyeon-128-route_rnn-motion_L1basic-vp_none/$suffix \
# ../20221222162547-study-seyeon-128-route_rnn-motion_L3basic-vp_none/$suffix \
# ../20221221193018-study-seyeon-128-route_rnn-motion_L1acc-vp_none/$suffix \
# ../20221223103039-study-seyeon-128-route_rnngen-motion_L1basic-vp_none/$suffix \
# ../20221221193024-study-seyeon-128-route_rnn-motion_L1basic-vp_none-cond_gen/$suffix \
# ../20221223080308-study-seyeon-128-route_rnn-motion_L1basic-vp_basic/$suffix \
# ../20221221193045-study-seyeon-128-route_rnn-motion_L1basic-vp_dir/$suffix \
# ../20230130113308-study-seyeon-128-route_rnngen-motion_L3v2basic-vp_none-cond_gen/$suffix \
# ../20230130113315-study-seyeon-128-route_rnngen-motion_L3v2basic-vp_basic-cond_gen/$suffix \
# ../20230128003446-study-seyeon-128-route_rnngen-motion_L3v2basic-vp_dir-cond_gen/$suffix \
# ../20230131215340-study-seyeon-128-route_rnn-motion_L3v3basic-vp_none/$suffix \
# ../20230131215404-study-seyeon-128-route_rnngen-motion_L3v3basic-vp_basic-cond_gen/$suffix \
../20230208152757-study-seyeon-128-route_rnngen-motion_L3v2basic-vp_dir-cond_gen/$suffix \
)
checks_onceIsaw=(\
# ../20230104160343-study-onceIsaw-128-route_rnn-motion_L1basic-vp_none/$suffix \
# ../20230104160415-study-onceIsaw-128-route_rnn-motion_L3basic-vp_none/$suffix \
# ../20230104160431-study-onceIsaw-128-route_rnn-motion_L1acc-vp_none/$suffix \
# ../20230104160452-study-onceIsaw-128-route_rnngen-motion_L1basic-vp_none/$suffix \
# ../20230107093719-study-onceIsaw-128-route_rnn-motion_L1basic-vp_none-cond_gen/$suffix \
# ../20230107093743-study-onceIsaw-128-route_rnn-motion_L1basic-vp_basic/$suffix \
# ../20230107093744-study-onceIsaw-128-route_rnn-motion_L1basic-vp_dir/$suffix \
# ../20230114082013-study-onceIsaw-128-route_rnn-motion_L3basicv2-vp_none/$suffix \
# ../20230130113318-study-onceIsaw-128-route_rnngen-motion_L3v2basic-vp_none-cond_gen/$suffix \
# ../20230130113323-study-onceIsaw-128-route_rnngen-motion_L3v2basic-vp_basic-cond_gen/$suffix \
# ../20230128003550-study-onceIsaw-128-route_rnngen-motion_L3v2basic-vp_dir-cond_gen/$suffix \
# ../20230131215423-study-onceIsaw-128-route_rnn-motion_L3v3basic-vp_none/$suffix \
# ../20230131215441-study-onceIsaw-128-route_rnngen-motion_L3v3basic-vp_basic-cond_gen/$suffix \
../20230208152814-study-onceIsaw-128-route_rnngen-motion_L3v2basic-vp_dir-cond_gen/$suffix \
)
checks_drums=(\
# ../20221227213701-study-drums-128-route_rnn-motion_L1basic-vp_none/$suffix \
# ../20221228205624-study-drums-128-route_rnn-motion_L3basic-vp_none/$suffix \
# ../20221227123021-study-drums-128-route_rnn-motion_L1acc-vp_none/$suffix \
# ../20221228132751-study-drums-128-route_rnngen-motion_L1basic-vp_none/$suffix \
# ../20221226233008-study-drums-128-route_rnn-motion_L1basic-vp_none-cond_gen/$suffix \
# ../20221228133418-study-drums-128-route_rnn-motion_L1basic-vp_basic/$suffix \
# ../20221224022434-study-drums-128-route_rnn-motion_L1basic-vp_dir/$suffix \
# ../20230114082016-study-drums-128-route_rnn-motion_L3basicv2-vp_none/$suffix \
# ../20230206212610-study-drums-128-route_rnn-motion_L1v2basic-vp_none/$suffix \
# ../20230206212838-study-drums-128-route_rnn-motion_L3v2basic-vp_none/$suffix \
# ../20230206212848-study-drums-128-route_rnngen-motion_L1v2basic-vp_none/$suffix \
# ../20230206212859-study-drums-128-route_rnn-motion_L1v2basic-vp_none-cond_gen/$suffix \
# ../20230208151307-study-drums-128-route_rnngen-motion_L3v2basic-vp_basic-cond_gen/$suffix \
../20230208151320-study-drums-128-route_rnngen-motion_L3v2basic-vp_dir-cond_gen/$suffix \
)
# checks_meadw33=(\
# ../20221224204739-study-mead_W33-128-route_rnn-motion_L1basic-vp_none/$suffix \
# ../20221226065905-study-mead_W33-128-route_rnn-motion_L3basic-vp_none/$suffix \
# ../20221224183259-study-mead_W33-128-route_rnn-motion_L1acc-vp_none/$suffix \
# ../20221226100904-study-mead_W33-128-route_rnngen-motion_L1basic-vp_none/$suffix \
# ../20221225081715-study-mead_W33-128-route_rnn-motion_L1basic-vp_none-cond_gen/$suffix \
# ../20221226232905-study-mead_W33-128-route_rnn-motion_L1basic-vp_basic/$suffix \
# ../20221222225029-study-mead_W33-128-route_rnn-motion_L1basic-vp_dir/$suffix \
# ../20230114082021-study-mead_W33-128-route_rnn-motion_L3basicv2-vp_none/$suffix \
# )
# checks_meadm31=(\
# ../20230102175235-study-mead_m31-128-route_rnn-motion_L1basic-vp_none/$suffix \
# ../20230103235843-study-mead_m31-128-route_rnn-motion_L3basic-vp_none/$suffix \
# ../20230102175249-study-mead_m31-128-route_rnn-motion_L1acc-vp_none/$suffix \
# ../20230104030805-study-mead_m31-128-route_rnngen-motion_L1basic-vp_none/$suffix \
# ../20230102175254-study-mead_m31-128-route_rnn-motion_L1basic-vp_none-cond_gen/$suffix \
# ../20230103164359-study-mead_m31-128-route_rnn-motion_L1basic-vp_basic/$suffix \
# ../20230102175304-study-mead_m31-128-route_rnn-motion_L1basic-vp_dir/$suffix \
# )

# checkpoints=("checks_seyeon" "checks_meadw33" "checks_meadm31" "checks_onceIsaw" "checks_drums")
checkpoints=("checks_seyeon" "checks_onceIsaw" "checks_drums")

assets=(
    ../assets/seyeon_jung-JSBach_cello_suite_No6_CUT.mp4 \
    # ../assets/MEAD_W33_left_60-CUT.mov \
    # ../assets/MEAD_M31_right_60.mp4 \
    ../assets/Once_I_Saw_CUT.mp4 \
    ../assets/Istanbul_Agop_16_Xist_Ion_Crash_Cymbal-Brilliant.mp4 \
)

crops=(
    650,400,1250,1000 \
    # 330,0,1410,1080 \
    # 500,0,1580,1080 \
    290,0,1010,720 \
    170,0,890,720 \
)

# sound_route=(rnn rnn rnn rnngen rnn rnn rnn)
# motion_layers=(1 3 1 1 1 1 1)
# motion_type=(basic basic acc basic basic basic basic)
# vid_pred=("" "" "" "" "" basic dir)
# cond_gen=("" "" "" "" --cond_gen "" "")

image_size=128
chunk_len=0.085
fps=20
seq_len=16

sound_route=(rnngen)
motion_layers=(3)
motion_type=(basic)
vid_pred=(dir)
cond_gen=(--cond_gen)

for (( c=0; c<${#checkpoints[@]}; c++ ));
do
    asset=${assets[$c]}
    crop=${crops[$c]}
    declare -n checks="${checkpoints[c]}"
    echo "Source: "$asset

    for (( j=0; j<${#checks[@]}; j++ ));
    do
        echo "Checkpoint "${checks[$j]}
        check=${checks[$j]}
        route=${sound_route[$j]}
        mlayers=${motion_layers[$j]}
        mtype=${motion_type[$j]}
        vpred=${vid_pred[$j]}
        cgen=${cond_gen[$j]}

        python eval_models.py \
            --train_source $asset \
            --checkpoints $check \
            --crop $crop \
            --image_size $image_size \
            --chunk_len $chunk_len \
            --fps $fps \
            --max_seq_len $seq_len \
            --labels L=16 \
            --sound_route $route \
            --motion_layers $mlayers \
            --motion_type $mtype \
            --vid_pred $vpred \
            $cgen
    done
done

# e_motion=(10 10 0 0)
# sound_route=(gen gen rnngen rnngen)

# checks=(\
# ../20220925084904-seyeon-basic128-mel64-rnn_route-L8/$suffix,\
# ../20220926221638-seyeon-basic128-mel64-rnn_route-L16/$suffix,\
# ../20220925085318-seyeon-basic128-mel64-rnn_route-L64/$suffix \
# ../20220925085024-seyeon-basic128-mel64-gen_route-L8/$suffix,\
# ../20220926224644-seyeon-basic128-mel64-gen_route-L16/$suffix,\
# ../20221009084647-seyeon-basic128-mel64-gen_route-L32/$suffix \
# ../20221010112350-seyeon-basic128-mel64-gen_route-L64/$suffix \
# ../20221001230404-seyeon-basic128-mel64-gen_route-L64/$suffix \
# ../20220925085036-seyeon-basic128-mel64-rnngen_route-L8/$suffix,\
# ../20220926221453-seyeon-basic128-mel64-rnngen_route-L16/$suffix,\
# ../20221009084646-seyeon-basic128-mel64-rnngen_route-L32/$suffix \
# ../20221010115343-seyeon-basic128-mel64-rnngen_route-L64/$suffix)

# e_motion=(10 10 0 0)
# sound_route=(gen gen rnngen rnngen)

# folder=(
# 20220905150602-obama-basic128-mel64 \
# 20220905150922-obama-basic128-mel128 \
# 20220905150942-obama-basic128-mfcc \
# 20220905150945-seyeon-basic128-mel64 \
# 20220905151013-seyeon-basic128-mel128 \
# 20220905151024-seyeon-basic128-mfcc \
# 20220905151037-jacob-basic128-mel64 \
# 20220905151112-jacob-basic128-mel128 \
# 20220905151125-jacob-basic128-mfcc)

# source=(
#     Obama-Weekly_Address_Ensuring_Our_Free_Market_Works_for_Everyone_CUT.mp4 \
#     Obama-Weekly_Address_Ensuring_Our_Free_Market_Works_for_Everyone_CUT.mp4 \
#     Obama-Weekly_Address_Ensuring_Our_Free_Market_Works_for_Everyone_CUT.mp4 \
#     seyeon_jung-JSBach_cello_suite_No6_CUT.mp4 \
#     seyeon_jung-JSBach_cello_suite_No6_CUT.mp4 \
#     seyeon_jung-JSBach_cello_suite_No6_CUT.mp4 \
#     JACOB_COLLIER_improvises_in_Db_MAJOR_PAD.mp4 \
#     JACOB_COLLIER_improvises_in_Db_MAJOR_PAD.mp4 \
#     JACOB_COLLIER_improvises_in_Db_MAJOR_PAD.mp4)

# bands=(
#     64 \
#     128 \
#     64 \
#     64 \
#     128 \
#     64 \
#     64 \
#     128 \
#     64)

# type=(
#     mel \
#     mel \
#     mfcc \
#     mel \
#     mel \
#     mfcc \
#     mel \
#     mel \
#     mfcc)

# for (( j=0; j<9; j++ ));
# do
#     python eval_models.py \
#         --train_video ../assets/${source[$j]} \
#         --checkpoints ../${folder[$j]}/checkpoints/0200000_Gn.model \
#         --max_seq_len 16 \
#         --labels L=16 \
#         --sound_route gen \
#         --chunk_len 0.085 \
#         --fps 20 \
#         --e_motion 10 \
#         --mel_bands ${bands[$j]} \
#         --feat_type ${type[$j]} \
#         --image_size 128 \
#         --g_arch basic \
#         --old
# done